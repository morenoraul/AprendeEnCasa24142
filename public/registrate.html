<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Regístrate - Plataforma de Cursos</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="styles.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <div class="menu">
            <a href="index.html"><img src="images/Logo.png" alt="Logo"></a>
            <img src="images/botonmenu.png" class="menu-icono" alt="Menu">
            <nav>
                <ul>
                    <li><a href="index.html">Inicio</a></li>
                    <li><a href="login.html">Inicia Sesión</a></li>
                    <li><a href="registrate.html">Regístrate</a></li>
                    <li><a href="sitioDocente.html">Sitio Docente</a></li>
                </ul>
            </nav>
        </div>
    </div>

    <main role="main">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-md-6">
                    <h2>Regístrate</h2>
                    <p>Regístrate en nuestra plataforma de cursos especializados en áreas como análisis matemático, álgebra y mucho más. Ya seas un estudiante ávido de aprender o un dedicado docente en busca de recursos para enriquecer tu enseñanza, estás en el lugar adecuado.</p>
                    
                    <form id="registroForm">
                        <div class="mb-3">
                            <label for="nombre" class="form-label">Nombre: <span class="text-danger">*</span></label>
                            <input type="text" class="form-control" id="nombre" required>
                        </div>
                        <div class="mb-3">
                            <label for="apellido" class="form-label">Apellido: <span class="text-danger">*</span></label>
                            <input type="text" class="form-control" id="apellido" required>
                        </div>
                        <div class="mb-3">
                            <label for="email" class="form-label">Correo electrónico: <span class="text-danger">*</span></label>
                            <input type="email" class="form-control" id="email" required>
                        </div>
                        <div class="mb-3">
                            <label for="confirmEmail" class="form-label">Confirmar correo electrónico: <span class="text-danger">*</span></label>
                            <input type="email" class="form-control" id="confirmEmail" required>
                            <div id="emailNoCoincide" class="text-danger" style="display: none;">No coincide el email</div>
                        </div>
                        <div class="mb-3">
                            <label for="dni" class="form-label">DNI: <span class="text-danger">*</span></label>
                            <input type="text" class="form-control" id="dni" required>
                        </div>
                        <div class="mb-3">
                            <label for="contrasena" class="form-label">Contraseña: <span class="text-danger">*</span></label>
                            <input type="password" class="form-control" id="contrasena" required>
                        </div>
                        <div class="mb-3">
                            <label for="confirmContrasena" class="form-label">Confirmar contraseña: <span class="text-danger">*</span></label>
                            <input type="password" class="form-control" id="confirmContrasena" required>
                            <div id="contrasenaNoCoincide" class="text-danger" style="display: none;">No coincide la contraseña</div>
                        </div>
                        <div class="mb-3">
                            <label for="rol" class="form-label">Rol: <span class="text-danger">*</span></label>
                            <select class="form-select" id="rol" required>
                                <option value="">Seleccione su rol</option>
                                <option value="Estudiante">Estudiante</option>
                                <option value="Docente">Docente</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="nivelAcademico" class="form-label">Nivel académico: <span class="text-danger">*</span></label>
                            <select class="form-select" id="nivelAcademico" required>
                                <option value="">Seleccione su nivel académico</option>
                                <option value="Secundario">Secundario</option>
                                <option value="Terciario">Terciario</option>
                                <option value="Universitario">Universitario</option>
                                <option value="Posgrado">Posgrado</option>
                            </select>
                        </div>
                        <div class="mb-3 form-check">
                            <input type="checkbox" class="form-check-input" id="terminosCondiciones" required>
                            <label class="form-check-label" for="terminosCondiciones">Aceptar <a href="terminos.html" target="_blank">Términos y Condiciones</a></label>
                        </div>
                        <div class="mb-3 form-check">
                            <input type="checkbox" class="form-check-input" id="condicionesPrivacidad" required>
                            <label class="form-check-label" for="condicionesPrivacidad">Aceptar <a href="privacidad.html" target="_blank">Condiciones de Privacidad</a></label>
                        </div>
                        <div class="d-grid gap-2">
                            <button type="submit" class="btn btn-primary">Confirmar</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </main>

    <div class="container-social">
        <div class="container-buttons-social">
            <a href="https://www.facebook.com/" target="_blank"><img src="images/facebook-icon.png" alt="Facebook"></a>
            <a href="https://www.instagram.com" target="_blank"><img src="images/instagram-icon.png" alt="Instagram"></a>
            <a href="https://web.whatsapp.com/" target="_blank"><img src="images/whatsapp-icon.png" alt="WhatsApp"></a>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="validacion.js"></script>
    <script>
        document.getElementById('registroForm').addEventListener('submit', function(e) {
            e.preventDefault();
            validarFormulario();
        });

        async function validarToken(token) {
            try {
                const response = await fetch('/validar-token', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${token}`
                    }
                });
                const data = await response.json();
                return data.valid;
            } catch (error) {
                console.error('Error al validar token:', error);
                return false;
            }
        }
    </script>
</body>
</html>